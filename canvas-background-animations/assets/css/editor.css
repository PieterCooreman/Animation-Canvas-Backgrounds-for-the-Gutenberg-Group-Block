/* Target the group block in the editor specifically */
.block-editor-block-list__layout .wp-block-group[data-cba-active] {
    position: relative !important;
    overflow: hidden;
}

/* Ensure canvas doesn't appear in list view */
.block-editor-list-view .cba-canvas-bg {
    display: none !important;
}

/* Canvas background positioning in editor */
.block-editor-block-list__layout .cba-canvas-bg,
.cba-editor-canvas {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 0 !important;
    pointer-events: none !important;
}

/* Ensure content is visible above canvas */
.wp-block-group[data-cba-active] > *:not(.cba-canvas-bg) {
    position: relative;
    z-index: 1;
}

/* Ensure inner container is visible */
.wp-block-group__inner-container {
    position: relative;
    z-index: 1;
}

/* Fix for the block editor wrapper */
.block-editor-block-list__block[data-type="core/group"] {
    position: relative;
}

/* Make sure the canvas stays within the group block bounds */
.block-editor-block-list__block[data-type="core/group"] .wp-block-group[data-cba-active] {
    position: relative !important;
    isolation: isolate;
}

/* Ensure nested group blocks also show their animations */
.wp-block-group[data-cba-active] {
    position: relative !important;
    isolation: isolate;
}

/* Make sure all content layers are properly stacked */
.wp-block-group[data-cba-active] > .block-list-appender,
.wp-block-group[data-cba-active] > .block-editor-inner-blocks,
.wp-block-group[data-cba-active] > .wp-block-group__inner-container {
    position: relative;
    z-index: 1;
}